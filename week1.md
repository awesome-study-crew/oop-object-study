# 1주차 스터디 내용

## [효석님 이슈](https://github.com/awesome-study-crew/oop-object-study/issues/5)

-   데이터 보다는 행동을 먼저 생각하는 것이 중요하다.
-   `DDD`가 `Data Driven Development`가 아니었나?
    -   데이터 보다는 행동을 먼저 생각하라고 했으면서 왜 DDD를 선택하는 개발자가 있을까? -> 안티 패턴인가?
    -   알고보면 `DDD`는 `Domain Driven Development` 이다.
-   보통 개발할 때 **DB 테이블을 먼저 설계해놓고 시작**하게 된다.
    -   이건 데이터를 먼저 생각하는게 아닌가?
    -   만약, 데이터를 우선적으로 생각하지 않고 설계를 한다면 개발 중간에 테이블 설계 변동 가능성이 높아지지 않을까?
        -   **개인적인 생각으로는 각 작업이 목적이 다르기 때문에 차이점이 분명하게 발생하는 것이라고 생각이 된다.**
        -   **객체지향 패러다임은 `행동`을 통해서 유연한 로직을 만드는 것이고, DB 설계는 데이터를 어떻게 효율적으로 저장하고 영속성을 어떻게 보장할건지에 대한 처리를 하는 것이다.**
-   책에서 나온 `Bag` 클래스를 왜 `BagEntity` 로만 생각하고 특정 클래스에서 선언한 데이터들을 DB 컬럼이라고 항상 생각할까?
    -   이런 사고를 버리자!

<br/>

## 상운님 이슈

> -   [다형성을 테이블 설계로 표현한 댓글 기능 설계 공유](https://github.com/awesome-study-crew/oop-object-study/issues/4)
> -   [객체지향 설계에서 트레이드오프를 판단할 기준은 무엇인가?](https://github.com/awesome-study-crew/oop-object-study/issues/3)

### 이슈 3번에 대한 이야기

-   트레이드오프 판단 기준에서 가장 중요한 포인트는 `"변경 가능성"` 인 것 같다.
-   `TicketStore` 적용에 대한 의문
    -   `TicketStore`는 인터페이스! -> `TicketOffice`가 허용할 수 있는 메세지들을 모아놓은 인터페이스
    -   **TicketSeller가 TicketOffice에 직접 의존했다면 TicketStore 라는 인터페이스를 중간에 적용해서 TicketSeller는 TicketStore를 한번 거쳐서 TicketOffice에 접근하고, TicketOffice는 TicketStore에 의존하게 된다** -> `DIP`
-   **만약, 오프라인 티켓 스토어 뿐만 아니라, 온라인/팝업스토어 등 다양한 스토어가 추가된다면?**
    -   위에서 언급된 대로 `TicketStore` 라는 인터페이스(구현체)를 설정한다.
    -   예를 들어 수수료 계산하는 로직이 있고, 각 스토어 별로 수수료가 다르다면?
        -   메서드는 그대로, 내부 구현만 다르게 하면 문제가 없다.
-   하지만, 저렇게 추가될 가능성이 없고 우리는 무조건 오프라인으로만 팔아!
    -   **그럴 경우에는 굳이 인터페이스를 중간에 둘 필요가 있을까?**
    -   그런데 저렇게 추가될 가능성이 없다고 어떻게 확신해?
        -   그럴바엔 그냥 애초에 설계할 때 인터페이스를 두고 시작하는게 낫지 않아?
            -   그러면 관리포인트가 늘어나는데, 우리가 간단한 예시만 들어서 그렇지 만약 복잡한 코드였으면 관리가 쉽지 않았을거다.
    -   그럴 때는 그냥 인터페이스 없이 구현하고 나중에 추가될 경우에 조금 리소스를 들이더라도 앞으로의 유지보수 비용 절감을 위한 작업이니 감안할만 하다는 의견.

### 이슈 4번에 대한 이야기

-   만약, 모든 댓글 시스템이 이슈에 작성된 `comments` 테이블 구조를 그대로 사용한다면?
    -   그냥 `target_type`을 가지고만 분리하는게 과연 좋은 방향일까?
    -   케이스 별로 다를 것 같다.
-   댓글이 많이 달리는 프로젝트이고, 어떤 댓글에는 대댓글이 허용되고 어떤 댓글에는 대댓글이 없고 이런식으로 유연한 경우에는 `target_type`을 적용하지 않는게 맞는 것 같다.
-   ROW 수가 적거나, 댓글 구조가 명확한 경우에는 `target_type`을 적용하는 것도 괜찮은 방법인 것 같다고 이야기가 나옴.
    -   쿼리문도 간결하게 작성할 수 있다는 장점도 있음!
    -   하지만, `강욱`은 그래도 분리하는게 낫지 않을까? 라는 의견!
    -   **아무리 row 수가 적고 다른 이유가 있어도 결국에는 `where` 조건을 무조건 걸어야 한다는 것이 단점이라고 생각하고, 댓글 같은 경우에는 기획이 바뀔 여지가 충분하기 때문에 애초에 확장성을 고려해서 설계하는 것이 나중에 크게 고생을 하지 않을 수 있을 것 같다는 의견이 있다.**

<br/>

## [강욱님 이슈](https://github.com/awesome-study-crew/oop-object-study/issues/1)

-   이미 댓글로 이야기 한 부분이기 때문에 특별히 스터디 시간에 논의한 내용은 없음!
-   이슈에는 `Bag` 클래스를 예시로 들고 있는데 `Bag`도 사람 취급 하는게 좋음.
    -   Bag 안에 초대권이 있음 -> 초대권이 Bag 안에 있는지 확인하는 주체는 누구?
    -   일반적인 사람들의 시점에서는 Bag를 가지고 있는 사람임.
    -   그렇지만, 소프트웨어 레벨에서는 확인하는 주체는 `Bag` 라는 것 -> 이런 시각을 가지려고 노력하면 해당 이슈에 대한 내용이 이해가 될 것 같다고 생각.
